<!DOCTYPE html >
<html>
    <head>
        <meta aframe-injected name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover">
        <meta aframe-injected name="mobile-web-app-capable" content="yes">
        <meta aframe-injected name="theme-color" content="black">
        <meta aframe-injected name="apple-mobile-web-app-capable" content="yes">
        <meta aframe-injected name="apple-mobile-web-app-status-bar-style" content="black">
        <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="./styles.css">

    </head>
    <body style="margin: 0; overflow: hidden;">

        <div id="flashcard-selection">

            <header class="header">
                <h1>Flash Cards</h1>
              </header>
              <div class="gallery">
                <div id="flashcard-1" class=" w3-panel w3-card w3-purple w3-border  w3-round-large w3-large w3-hover-shadow " >
                  <a  class="w3-bar">
                  <img src="http://drive.google.com/uc?export=view&id=1ydhakm-LL5DKNiMczPrDLoshlTvBWct4" alt="card" class="w3-bar-item">
                  </a>
                </div>
                <div class=" w3-panel w3-card w3-purple w3-border  w3-round-large w3-large w3-hover-shadow " >
                  <a onclick="loadAnimal()" class="w3-bar">
                  <img src="http://drive.google.com/uc?export=view&id=1NBQMXZRs45WhZU_dSY_c0nQW_iKAV3oy" alt="card" class="w3-bar-item">
                  </a>
                </div>
                <div class=" w3-panel w3-card w3-purple w3-border  w3-round-large w3-large w3-hover-shadow " >
                  <a onclick="loadAnimal()" class="w3-bar">
                  <img src="http://drive.google.com/uc?export=view&id=1iE_faPwPmIeHnxQFRm0c6cQhQyNZ9vfz" alt="card" class="w3-bar-item">
                  </a>
                </div>
                <div class=" w3-panel w3-card w3-purple w3-border  w3-round-large w3-large w3-hover-shadow " >
                  <a onclick="loadAnimal()" class="w3-bar">
                  <img src="http://drive.google.com/uc?export=view&id=1Zg5t-Z0dre_oXvJXNu0iVaDPIki6yQtA" alt="card" class="w3-bar-item">
                  </a>
                </div>
                <div class=" w3-panel w3-card w3-purple w3-border  w3-round-large w3-large w3-hover-shadow " >
                  <a onclick="loadAnimal()" class="w3-bar">
                  <img src="http://drive.google.com/uc?export=view&id=19gAidgJbJDabczDxtGIULIHR_xxN5VuR" alt="card" class="w3-bar-item">
                  </a>
                </div>
              </div>
        </div>


        <div id="main" style="display:none;" >
            <div class="w3-container" style="margin-top:20px;">
                <button id="backBtn" class="w3-btn gg w3-round w3-left w3-border w3-border-white" style="margin-left: 200px; " href="../index.html"><i class="material-icons">arrow_back</i></button>
                <button id="playBtn" class="w3-btn gg w3-round w3-right w3-border w3-border-white" style="margin-right: 200px;" href="#"><i class="material-icons">volume_up</i></button>
            </div>
        

            <div id="overlay" class="overlay w3-card w3-round-large gg w3-border w3-border-white" >
                <p class="w3-large"></p>
            </div>
        </div>
        <div id="ar-scene-container"></div>

        <script>
            const flashcardSelectionDiv = document.getElementById("flashcard-selection");

            // add event listeners to the flashcard selection buttons
            document.getElementById("flashcard-1").addEventListener("click", () => showARScene("flashcard-1"));
            document.getElementById("flashcard-2").addEventListener("click", () => showARScene("flashcard-2"));

            // function to create and show the AR scene
            function showARScene(flashcardId) {
            // remove the event listeners from the flashcard selection buttons
            document.getElementById("flashcard-1").removeEventListener("click", showARScene);

            // create the AR scene dynamically
            const arSceneContainer = document.getElementById("ar-scene-container");
            const arScene = document.createElement("a-scene");
            arScene.setAttribute("vr-mode-ui", "enabled: false;");
            arScene.setAttribute("loading-screen", "enabled: false;");
            arScene.setAttribute("renderer", "logarithmicDepthBuffer: true;");
            arScene.setAttribute("arjs", "trackingMethod: best; sourceType: webcam; debugUIEnabled: false;");
            arScene.setAttribute("embedded", "");
            arSceneContainer.appendChild(arScene);
            
            // create an assets element dynamically to load the necessary assets
            const assets = document.createElement("a-assets");

            // add the assets to the scene
            arScene.appendChild(assets);

            // add the assets to load here, such as models, images, videos, etc.
            const model = document.createElement("a-asset-item");
            model.setAttribute("id", "model");
            model.setAttribute("src", "assets/elephant/scene.gltf");
            assets.appendChild(model);

            // add a listener to the assets element to check if all the assets have finished loading
                assets.addEventListener("loaded", () => {
                // add the AR elements to the scene here, such as markers, models, etc.
                const marker = document.createElement("a-marker");
                marker.setAttribute("type", "barcode");
                marker.setAttribute("value", "12345");
                arScene.appendChild(marker);

                const modelInstance = document.createElement("a-entity");
                modelInstance.setAttribute("gltf-model", "#model");
                modelInstance.setAttribute("scale", "0.7 0.7 0.7");
                modelInstance.setAttribute("position", "0 0 -2");
                marker.appendChild(modelInstance);

                // add a listener to the arScene element to remove it when it's clicked
                arScene.addEventListener("click", () => {
                arSceneContainer.removeChild(arScene);
                flashcardSelectionDiv.style.display = "block";
                document.getElementById("flashcard-1").addEventListener("click", () => showARScene("flashcard-1"));
                document.getElementById("flashcard-2").addEventListener("click", () => showARScene("flashcard-2"));
                });
            });
            flashcardSelectionDiv.style.display = "none";
            }
        </script>
    </body>
</html>